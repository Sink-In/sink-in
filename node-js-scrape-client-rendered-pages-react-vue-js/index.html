<!DOCTYPE html>
<html lang="en">
<head>

    <title>Node.js − Scrape Client Rendered (React.js / Vue.js) Pages</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=2408e2b2b9" />

    <meta name="description" content="I was given a similar task to scrape all the users&#x27; data and fetch some specific fields of a well-known website as they didn&#x27;t have any APIs to fetch the data. That website was based on React. I was comfortable with Cheerio, and I started coding with it and as expected I couldn&#x27;t fetch any data." />
    <link rel="icon" href="/favicon.png" type="image/png" />
    <link rel="canonical" href="https://gosink.in/node-js-scrape-client-rendered-pages-react-vue-js/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="https://gosink.in/node-js-scrape-client-rendered-pages-react-vue-js/amp/" />
    
    <meta property="og:site_name" content="Sink In - Tech and Travel" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Node.js − Scrape Client Rendered (React.js / Vue.js) Pages" />
    <meta property="og:description" content="There are tons of scraping tools out there for Node.js like cheerio, but what if there is an empty DOM with only a bunch of JavaScripts? The bigger challenge is what if you want to scrape thousands of pages of a specific website without getting your IP blocked?" />
    <meta property="og:url" content="https://gosink.in/node-js-scrape-client-rendered-pages-react-vue-js/" />
    <meta property="og:image" content="https://gosink.in/content/images/2019/10/scraping.jpeg" />
    <meta property="article:published_time" content="2019-10-28T18:38:13.000Z" />
    <meta property="article:modified_time" content="2019-10-28T18:38:13.000Z" />
    <meta property="article:tag" content="Node.js" />
    <meta property="article:tag" content="javascript" />
    <meta property="article:tag" content="Scraping" />
    <meta property="article:tag" content="React.js" />
    <meta property="article:tag" content="Vue.js" />
    <meta property="article:tag" content="Tech" />
    
    <meta property="article:publisher" content="https://www.facebook.com/shah.apal" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Node.js − Scrape Client Rendered (React.js / Vue.js) Pages" />
    <meta name="twitter:description" content="There are tons of scraping tools out there for Node.js like cheerio, but what if there is an empty DOM with only a bunch of JavaScripts? The bigger challenge is what if you want to scrape thousands of pages of a specific website without getting your IP blocked?" />
    <meta name="twitter:url" content="https://gosink.in/node-js-scrape-client-rendered-pages-react-vue-js/" />
    <meta name="twitter:image" content="https://gosink.in/content/images/2019/10/scraping.jpeg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Apal Shah" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Node.js, javascript, Scraping, React.js, Vue.js, Tech" />
    <meta name="twitter:site" content="@shah_apal" />
    <meta property="og:image:width" content="2000" />
    <meta property="og:image:height" content="1335" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Sink In - Tech and Travel",
        "url": "https://gosink.in/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://gosink.in/content/images/2019/08/Final-logo.png"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Apal Shah",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/fd29a9dce2da5d0631e635d01107669d?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://gosink.in/author/apal/",
        "sameAs": []
    },
    "headline": "Node.js − Scrape Client Rendered (React.js / Vue.js) Pages",
    "url": "https://gosink.in/node-js-scrape-client-rendered-pages-react-vue-js/",
    "datePublished": "2019-10-28T18:38:13.000Z",
    "dateModified": "2019-10-28T18:38:13.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://gosink.in/content/images/2019/10/scraping.jpeg",
        "width": 2000,
        "height": 1335
    },
    "keywords": "Node.js, javascript, Scraping, React.js, Vue.js, Tech",
    "description": "There are tons of scraping tools out there for Node.js like cheerio, but what if there is an empty DOM with only a bunch of JavaScripts? The bigger challenge is what if you want to scrape thousands of pages of a specific website without getting your IP blocked?",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://gosink.in/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.2" />
    <link rel="alternate" type="application/rss+xml" title="Sink In - Tech and Travel" href="https://gosink.in/rss/" />
    <script defer src="https://unpkg.com/@tryghost/portal@~1.1.0/umd/portal.min.js" data-ghost="https://gosink.in/"></script><style> .gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}

.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}

.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}

.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}

.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}

.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}

.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}

.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <link rel="stylesheet"
      href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/night-owl.min.css">
<!-- Fix Gist -->
<style>
    .gist {
    	width: 100%;
    }
    .post-full-content pre {
        box-shadow: 0 20px 25px -20px rgba(0,0,0,0.7);
        word-wrap: normal;
        -moz-hyphens: none;
        -ms-hyphens: none;
        -webkit-hyphens: none;
        hyphens: none;
        font-size: 0.9em;
        line-height: 1.3em;
        border: rbg(1, 22, 39, 0.9);
        background: rgba(1, 22, 39, 0.9);
    }
    .post-full-content pre code, .post-full-content pre tt {
        white-space: pre;
    }
</style>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-63344841-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-63344841-6');
</script>

<!-- Google Adsense -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-7909119592155313",
          enable_page_level_ads: true
     });
</script>
<style>:root {--ghost-accent-color: #1c1c1c;}</style>

</head>
<body class="post-template tag-node-js tag-javascript tag-scraping tag-react-js tag-vue-js tag-tech">
<div class="viewport">

    <header id="gh-head" class="gh-head has-cover">
        <nav class="gh-head-inner inner gh-container">

            <div class="gh-head-brand">
                <a class="gh-head-logo" href="https://gosink.in">
                        <img src="https://gosink.in/content/images/2019/08/Final-logo.png" alt="Sink In - Tech and Travel" />
                </a>
                <a class="gh-burger" role="button">
                    <div class="gh-burger-box">
                        <div class="gh-burger-inner"></div>
                    </div>
                </a>
            </div>
            <div class="gh-head-menu">
                <ul class="nav">
    <li class="nav-home"><a href="https://gosink.in/">Home</a></li>
    <li class="nav-tech"><a href="https://gosink.in/tag/tech/">Tech</a></li>
    <li class="nav-design"><a href="https://gosink.in/tag/design/">Design</a></li>
    <li class="nav-travel"><a href="https://gosink.in/tag/travel/">Travel</a></li>
    <li class="nav-entrepreneurship"><a href="https://gosink.in/tag/entrepreneurship/">Entrepreneurship</a></li>
</ul>

            </div>
            <div class="gh-head-actions">
                <div class="gh-social">
                        <a class="gh-social-facebook" href="https://www.facebook.com/shah.apal" title="Facebook" target="_blank" rel="noopener"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm5.204 4.911h-3.546c-2.103 0-4.443.885-4.443 3.934.01 1.062 0 2.08 0 3.225h-2.433v3.872h2.509v11.147h4.61v-11.22h3.042l.275-3.81h-3.397s.007-1.695 0-2.187c0-1.205 1.253-1.136 1.329-1.136h2.054V4.911z" /></svg></a>
                        <a class="gh-social-twitter" href="https://twitter.com/shah_apal" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
                </div>

            </div>
        </nav>
    </header>

    <main>
        



<article class="article post tag-node-js tag-javascript tag-scraping tag-react-js tag-vue-js tag-tech">

    <header class="article-header gh-canvas">

        <section class="article-tag">
            <a href="https://gosink.in/tag/node-js/">Node.js</a>
        </section>

        <h1 class="article-title">Node.js − Scrape Client Rendered (React.js / Vue.js) Pages</h1>

        <p class="article-excerpt">There are tons of scraping tools out there for Node.js like cheerio, but what if there is an empty DOM with only a bunch of JavaScripts? The bigger challenge is what if you want to scrape thousands of pages of a specific website without getting your IP blocked?</p>

        <div class="article-byline">
            <section class="article-byline-content">
                <ul class="author-list">
                    <li class="author-list-item">
                        <a href="/author/apal/" class="author-avatar">
                            <img class="author-profile-image" src="//www.gravatar.com/avatar/fd29a9dce2da5d0631e635d01107669d?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Apal Shah" />
                        </a>
                    </li>
                </ul>
                <div class="article-byline-meta">
                    <h4 class="author-name"><a href="/author/apal/">Apal Shah</a></h4>
                    <div class="byline-meta-content">
                        <time class="byline-meta-date" datetime="2019-10-28">Oct 28, 2019</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 2 min read</span>
                    </div>
                </div>
            </section>
        </div>

        <figure class="article-image">
            <img
                srcset="/content/images/size/w300/2019/10/scraping.jpeg 300w,
                        /content/images/size/w600/2019/10/scraping.jpeg 600w,
                        /content/images/size/w1000/2019/10/scraping.jpeg 1000w,
                        /content/images/size/w2000/2019/10/scraping.jpeg 2000w"
                sizes="(min-width: 1400px) 1400px, 92vw"
                src="/content/images/size/w2000/2019/10/scraping.jpeg"
                alt="Node.js − Scrape Client Rendered (React.js / Vue.js) Pages"
            />
        </figure>
    </header>

    <section class="gh-content gh-canvas">
        <p>There are tons of scraping tools out there for Node.js like <a href="https://www.npmjs.com/package/cheerio">cheerio</a>, but what if there is an empty DOM with only a bunch of JavaScripts? The bigger challenge is what if you want to scrape thousands of pages of a specific website without getting your IP blocked?</p><p>I was given a similar task to scrape all the users' data and fetch some specific fields of a well-known website as they didn't have any APIs to fetch the data. That website was based on React. I was comfortable with Cheerio, and I started coding with it and as expected I couldn't fetch any data.</p><h2 id="choosing-the-tool">Choosing the tool</h2><p>I knew that I can use <a href="https://www.npmjs.com/package/puppeteer">Puppeteer</a> for testing the Client Rendered Applications, and I have to use it if I want the DOM to load completely before fetching the data. (Because I didn't know any other tools except Puppeteer). I wrote the script, added the loops and everything was set up. I used one cloud instance as I was using my company's network and I didn't want it to get blocked if anything goes wrong. And again, as expected, after fetching merely 80-100 users' data, the <strong><em>IP of that instance got blocked</em></strong>.</p><h2 id="prevent-ip-blocking">Prevent IP blocking</h2><p>Now I had to come up with a new solution because obviously, I can't deploy a new instance after every 100 requests. I thought about the solution for some time and there was only option kept coming to my mind - "Use some Proxy". And I chose the Tor network because it is very easy to set up and code in Node.js. </p><p>I was using an Ubuntu 18 instance and the process is the same for Mac OS. (I don't know about Windows and I never got a chance. So if you know how to do this, please share the knowledge)</p><p>Before installing any package, it is recommended to update all the packages using:</p><p><code>sudo apt-get update</code></p><h3 id="installing-tor-in-ubuntu">Installing Tor in Ubuntu</h3><pre><code class="language-bash">sudo apt-get install tor</code></pre><h3 id="in-macos-using-homebrew">In macOS, using HomeBrew</h3><pre><code>brew install tor</code></pre><p>After installing, it will automatically connect to the Tor network which we don't want to happen. We want to connect to the network programmatically.</p><ul><li>If you want to check if it is connected to the Tor network, run this command. It should show some different IP.</li></ul><pre><code>curl --socks5 127.0.0.1:9050 checkip.amazonaws.com</code></pre><ul><li>To kill the existing tor process,</li></ul><pre><code>kill -9 `ps aux | grep tor | awk '{print $2}'`</code></pre><hr><h2 id="code">Code</h2><p>In this code, you can run this code over a loop. The <code>index.js</code> file will connect to a different IP on each iteration so that the website you're scraping can't block your IP address. <strong><em>Please don't try to harm any website as you may cause a DDOS attack</em></strong>.</p><h3 id="proxy-js"><em>proxy.js</em></h3><p>To connect to the Tor network.</p><p><em>This is the minimal code without any error handling for a POC. Try to handle all the errors if you're planning to publish this in a production environment.</em></p><!--kg-card-begin: html--><script src="https://gist.github.com/apal21/3511062cd08ee8ac55dbaf54fdf3ff1c.js"></script><!--kg-card-end: html--><h3 id="index-js"><em>index</em>.js</h3><!--kg-card-begin: html--><script src="https://gist.github.com/apal21/4746f9d3935f24485e40d5fd054f3202.js"></script><!--kg-card-end: html--><hr><h2 id="footnotes">Footnotes</h2><p>Do let me know if there is an error with this code or you used this for some cool stuff. Also, if you know the procedure in Windows, don't hesitate to add a comment. And once again, please do not try to harm any website using this method.</p><p>Until next time.</p>
    </section>


</article>

    </div>
</section> --}}


<aside class="read-more-wrap">
    <div class="read-more inner">


                    
<article class="post-card post ">

    <a class="post-card-image-link" href="/non-design-lessons-learned-while-designing-interfaces-2/">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2021/01/Illustration.png 300w,
                    /content/images/size/w600/2021/01/Illustration.png 600w,
                    /content/images/size/w1000/2021/01/Illustration.png 1000w,
                    /content/images/size/w2000/2021/01/Illustration.png 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2021/01/Illustration.png"
            alt="Non-Design lessons learned while designing interfaces"
            loading="lazy"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/non-design-lessons-learned-while-designing-interfaces-2/">
            <header class="post-card-header">
                <h2 class="post-card-title">Non-Design lessons learned while designing interfaces</h2>
            </header>
            <section class="post-card-excerpt">
                <p>During my time at NextUX Design Agency, apart from designing screens and experience, I have learned so many non-design lessons that I would like to share.</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/aman/" class="static-avatar">
                        <img class="author-profile-image" src="/content/images/size/w100/2019/08/DNC-XEROX---784-1.jpg" alt="Aman Gupta" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/aman/">Aman Gupta</a></span>
                <span class="post-card-byline-date"><time datetime="2021-01-24">Jan 24, 2021</time> <span class="bull">&bull;</span> 8 min read</span>
            </div>
        </footer>

    </div>

</article>
                    
<article class="post-card post ">

    <a class="post-card-image-link" href="/css-what-is-currentcolor-keyword/">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2020/11/css-current-color.jpg 300w,
                    /content/images/size/w600/2020/11/css-current-color.jpg 600w,
                    /content/images/size/w1000/2020/11/css-current-color.jpg 1000w,
                    /content/images/size/w2000/2020/11/css-current-color.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2020/11/css-current-color.jpg"
            alt="CSS — What is currentColor keyword?"
            loading="lazy"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/css-what-is-currentcolor-keyword/">
            <header class="post-card-header">
                <h2 class="post-card-title">CSS — What is currentColor keyword?</h2>
            </header>
            <section class="post-card-excerpt">
                <p>Did you know in CSS you can specify the color property once and use that value without specifying it again using the currentColor keyword?</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/apal/" class="static-avatar">
                        <img class="author-profile-image" src="//www.gravatar.com/avatar/fd29a9dce2da5d0631e635d01107669d?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Apal Shah" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/apal/">Apal Shah</a></span>
                <span class="post-card-byline-date"><time datetime="2020-11-27">Nov 27, 2020</time> <span class="bull">&bull;</span> 2 min read</span>
            </div>
        </footer>

    </div>

</article>
                    
<article class="post-card post ">

    <a class="post-card-image-link" href="/webrtc-switch-cameras-using-javascript-getusermedia/">
        <img class="post-card-image"
            srcset="/content/images/size/w300/2020/08/webrtc-video-call.jpeg 300w,
                    /content/images/size/w600/2020/08/webrtc-video-call.jpeg 600w,
                    /content/images/size/w1000/2020/08/webrtc-video-call.jpeg 1000w,
                    /content/images/size/w2000/2020/08/webrtc-video-call.jpeg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2020/08/webrtc-video-call.jpeg"
            alt="WebRTC — Switch Cameras using Javascript getUserMedia"
            loading="lazy"
        />
    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/webrtc-switch-cameras-using-javascript-getusermedia/">
            <header class="post-card-header">
                <h2 class="post-card-title">WebRTC — Switch Cameras using Javascript getUserMedia</h2>
            </header>
            <section class="post-card-excerpt">
                <p>To fetch or toggle between the front-facing camera and the back camera, we can simply use the "facingMode" which is widely supported in the majority of the browsers.</p>
            </section>
        </a>

        <footer class="post-card-meta">
            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/apal/" class="static-avatar">
                        <img class="author-profile-image" src="//www.gravatar.com/avatar/fd29a9dce2da5d0631e635d01107669d?s&#x3D;250&amp;d&#x3D;mm&amp;r&#x3D;x" alt="Apal Shah" />
                    </a>
                </li>
            </ul>
            <div class="post-card-byline-content">
                <span><a href="/author/apal/">Apal Shah</a></span>
                <span class="post-card-byline-date"><time datetime="2020-08-30">Aug 30, 2020</time> <span class="bull">&bull;</span> 3 min read</span>
            </div>
        </footer>

    </div>

</article>

    </div>
</aside>


    </main>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="https://gosink.in">Sink In - Tech and Travel</a> &copy; 2021</section>
            <nav class="site-footer-nav">
                
            </nav>
        </div>
    </footer>

</div>


<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="/assets/built/casper.js?v=2408e2b2b9"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>

<!-- Add noopener and noreferrer for security -->
<script>
    window.addEventListener("DOMContentLoaded", function() {
      document.querySelectorAll('a').forEach(link => {
        if (
          link.getAttribute('href').includes('http://') ||
          link.getAttribute('href').includes('https://')
        ) {
          link.setAttribute('rel', 'noopener noreferrer nofollow');
        }
      });
    }, false);
</script>
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
